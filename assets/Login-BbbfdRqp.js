import{_ as b,u as y,o as h,c as x,a as e,w as t,r as s,b as k,d as q,e as d,f as B,g as C}from"./index-DmuTLrRo.js";const F={class:"login-page"},L={__name:"Login",setup(N){const c=k(),i=y(),r=C(!1),a=B({username:"",password:""}),m={username:[{required:!0,message:"请输入用户名"}],password:[{required:!0,message:"请输入密码"}]};async function p(){r.value=!0;try{await i.login({username:a.username}),d.success("登录成功");const n=c.currentRoute.value.query.redirect||"/home";c.replace(n)}catch{d.error("登录失败")}finally{r.value=!1}}return(n,o)=>{const _=s("a-input"),l=s("a-form-item"),f=s("a-input-password"),v=s("a-button"),g=s("a-form"),w=s("a-card");return h(),x("div",F,[e(w,{class:"login-card",title:"登录",bordered:!1},{default:t(()=>[e(g,{model:a,rules:m,layout:"vertical",onFinish:p},{default:t(()=>[e(l,{label:"用户名",name:"username"},{default:t(()=>[e(_,{value:a.username,"onUpdate:value":o[0]||(o[0]=u=>a.username=u),placeholder:"请输入用户名"},null,8,["value"])]),_:1}),e(l,{label:"密码",name:"password"},{default:t(()=>[e(f,{value:a.password,"onUpdate:value":o[1]||(o[1]=u=>a.password=u),placeholder:"请输入密码"},null,8,["value"])]),_:1}),e(l,null,{default:t(()=>[e(v,{type:"primary","html-type":"submit",loading:r.value,block:""},{default:t(()=>[...o[2]||(o[2]=[q(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}},S=b(L,[["__scopeId","data-v-f76d2127"]]);export{S as default};
